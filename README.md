# Financial News and Stock Price Analysis - Data Preprocessing

## Описание проекта
Проект по предобработке финансовых данных для последующих предсказаний прибыли компаний.

**Текущий статус**: Завершена предобработка данных, обучение моделей не проводилось.

## Структура проекта

### Данные
- **Новостные данные**: `data/raw/participants/news_2.csv`, `news_sentiment.csv`
- **Биржевые данные**: `data/raw/participants/candles.csv`, `candles_2.csv`
- **Обработанные данные**: `data/raw/participants/news_sort_train.csv`

### Ноутбуки
1. **`preprocessing_news.ipynb`** - Обработка новостных данных
2. **`preprocessing_candles.ipynb`** - Обработка биржевых данных

## Выполненная работа

### 1. Анализ тональности новостей
- Интеграция с OpenAI API через OpenRouter для анализа sentiment
- Пакетная обработка новостей (batch size = 50) с прогресс-баром
- Автосохранение результатов каждые 1000 новостей
- Шкала оценки: 0 (негативно) - 1 (позитивно)

### 2. Привязка новостей к тикерам
- Создание словаря компаний и их тикеров
- Поиск упоминаний компаний в заголовках и текстах новостей
- Фильтрация по разрешенным тикерам

### 3. Обработка биржевых данных
- Расчет технических индикаторов:
  - Моментум, волатильность, скользящие средние
  - RSI, MACD, ATR, Bollinger Bands
  - Денежные потоки и объемы
  - Лаги цен и доходностей

### 4. Создание признаков для ML
- Формирование целевых переменных:
  - Доходность на 1 и 20 дней вперед
  - Направление движения цены (бинарная классификация)
- Масштабирование признаков
- Разделение на train/validation/test выборки

## Используемые технологии
- Python 3.9.21
- pandas, numpy - обработка данных
- scikit-learn - предобработка и масштабирование
- OpenRouter API - анализ тональности через LLM
- tqdm - визуализация прогресса

## Следующие шаги
1. Провести разведочный анализ данных (EDA)
2. Выбрать и обучить модели машинного обучения
3. Оценить качество на валидационной выборке
4. Протестировать на тестовых данных
5. Провести интерпретацию результатов

---

*Проект находится на стадии предобработки данных. Все необходимые признаки подготовлены для начала моделирования.*
